<body>
    <app-header></app-header>
    <form>
        <div *ngIf="this.dataReceived" class="content-wrapper">
            <div class="button-container">
                <button *ngIf="this.havePermission()" type="button" (click)="this.analyze()"
                    class="btn btn-primary btn-analyzer">Analyze</button>
                <button type="button" (click)="this.exportToCsvLocal()" class="btn btn-primary btn-export">Export</button>
                <button *ngIf="this.havePermission()" type="button" (click)="this.saveProject()"
                    class="btn btn-primary btn-save">Save</button>
                <button *ngIf="this.ownerPermission()" type="button" (click)="this.openDialogWithTemplate(deleteDialog)"
                    class="btn btn-primary btn-delete">Delete</button>
            </div>

            <div class="table-container">
                <app-tree-table-basic-demo [files]="this.files" [cols]="this.cols"></app-tree-table-basic-demo>
            </div>
        </div>
    </form>

    <div class="spinner-border loadScreen" *ngIf="!dataReceived">
    </div>

    <app-footer *ngIf="dataReceived"></app-footer>

    <ng-template #deleteDialog>
        <h1 mat-dialog-title>Delete Project</h1>
        <div mat-dialog-content>
            <p>Are you sure you want to delete this project?</p>
        </div>
        <div mat-dialog-actions>
            <button mat-button (click)="this.closeDialog()">No</button>
            <button mat-button (click)="this.closeDialog(); this.deleteProject()">Yes</button>
        </div>
    </ng-template>
</body>